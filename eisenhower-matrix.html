<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØµÙÙˆÙØ© Ø¢ÙŠØ²Ù†Ù‡Ø§ÙˆØ± Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/tools.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Ù…ØµÙÙˆÙØ© Ø¢ÙŠØ²Ù†Ù‡Ø§ÙˆØ± Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h1>
            <p class="subtitle">Ø±ØªØ¨ Ù…Ù‡Ø§Ù…Ùƒ Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‡Ù…ÙŠØ© ÙˆØ§Ù„Ø¥Ù„Ø­Ø§Ø­ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø£ÙØ¶Ù„</p>
        </header>
        <section class="controls">
            <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
            <form class="new-task-form" id="taskForm">
                <div class="form-group">
                    <label for="taskText">Ø§Ù„Ù…Ù‡Ù…Ø©</label>
                    <input type="text" id="taskText" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©..." required>
                </div>
                <div class="form-group">
                    <label for="importance">Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</label>
                    <select id="importance" class="form-control" required>
                        <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
                        <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="urgency">Ø§Ù„Ø¥Ù„Ø­Ø§Ø­</label>
                    <select id="urgency" class="form-control" required>
                        <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
                        <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©</button>
            </form>
        </section>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="action-buttons">
            <button class="action-btn print" onclick="window.print()">
                ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            </button>
            <button class="action-btn reset" onclick="showResetConfirmation()">
                ğŸ—‘ï¸ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
            </button>
        </div>
        
        <div class="matrix-container">
            <!-- Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø£ÙˆÙ„: Ù…Ù‡Ù… ÙˆØ¹Ø§Ø¬Ù„ -->
            <div class="quadrant quadrant-1">
                <div class="quadrant-header">
                    <h3>Ù…Ù‡Ù… ÙˆØ¹Ø§Ø¬Ù„</h3>
                    <p>Ø§ÙØ¹Ù„Ù‡Ø§ Ø§Ù„Ø¢Ù†</p>
                </div>
                <div class="tasks-list" id="quadrant1"></div>
                <div class="add-task-form">
                    <input type="text" class="task-input" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©..." data-quadrant="1">
                    <button class="add-btn" onclick="addQuickTask(1)">+</button>
                </div>
            </div>
            
            <!-- Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ù…Ù‡Ù… ÙˆØºÙŠØ± Ø¹Ø§Ø¬Ù„ -->
            <div class="quadrant quadrant-2">
                <div class="quadrant-header">
                    <h3>Ù…Ù‡Ù… ÙˆØºÙŠØ± Ø¹Ø§Ø¬Ù„</h3>
                    <p>Ø®Ø·Ø· Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                </div>
                <div class="tasks-list" id="quadrant2"></div>
                <div class="add-task-form">
                    <input type="text" class="task-input" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©..." data-quadrant="2">
                    <button class="add-btn" onclick="addQuickTask(2)">+</button>
                </div>
            </div>
            
            <!-- Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø«Ø§Ù„Ø«: ØºÙŠØ± Ù…Ù‡Ù… ÙˆØ¹Ø§Ø¬Ù„ -->
            <div class="quadrant quadrant-3">
                <div class="quadrant-header">
                    <h3>ØºÙŠØ± Ù…Ù‡Ù… ÙˆØ¹Ø§Ø¬Ù„</h3>
                    <p>ÙÙˆÙ‘Ø¶Ù‡Ø§ Ø£Ùˆ Ù‚Ù„Ù„Ù‡Ø§</p>
                </div>
                <div class="tasks-list" id="quadrant3"></div>
                <div class="add-task-form">
                    <input type="text" class="task-input" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©..." data-quadrant="3">
                    <button class="add-btn" onclick="addQuickTask(3)">+</button>
                </div>
            </div>
            
            <!-- Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø¹: ØºÙŠØ± Ù…Ù‡Ù… ÙˆØºÙŠØ± Ø¹Ø§Ø¬Ù„ -->
            <div class="quadrant quadrant-4">
                <div class="quadrant-header">
                    <h3>ØºÙŠØ± Ù…Ù‡Ù… ÙˆØºÙŠØ± Ø¹Ø§Ø¬Ù„</h3>
                    <p>ØªØ®Ù„Øµ Ù…Ù†Ù‡Ø§</p>
                </div>
                <div class="tasks-list" id="quadrant4"></div>
                <div class="add-task-form">
                    <input type="text" class="task-input" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©..." data-quadrant="4">
                    <button class="add-btn" onclick="addQuickTask(4)">+</button>
                </div>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalTasks">0</div>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="urgentImportant">0</div>
                <div class="stat-label">Ù…Ù‡Ù… ÙˆØ¹Ø§Ø¬Ù„</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="importantNotUrgent">0</div>
                <div class="stat-label">Ù…Ù‡Ù… ÙˆØºÙŠØ± Ø¹Ø§Ø¬Ù„</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completedTasks">0</div>
                <div class="stat-label">Ù…Ù‡Ø§Ù… Ù…ÙƒØªÙ…Ù„Ø©</div>
            </div>
        </div>
        
        <footer>
            <p>Ù…ØµÙÙˆÙØ© Ø¢ÙŠØ²Ù†Ù‡Ø§ÙˆØ± - Ø£Ø¯Ø§Ø© ÙØ¹Ø§Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª ÙˆØ²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</p>
        </footer>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø· -->
    <div class="modal-overlay" id="resetModal">
        <div class="modal-content">
            <div class="modal-icon">âš ï¸</div>
            <h3>ØªØ£ÙƒÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·</h3>
            <p>Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…ØŸ<br>Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡ ÙˆØ³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©.</p>
            <div class="modal-actions">
                <button class="modal-btn confirm" onclick="resetProgram()">Ù†Ø¹Ù…ØŒ Ø§Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>
                <button class="modal-btn cancel" onclick="hideResetConfirmation()">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        let tasks = JSON.parse(localStorage.getItem('eisenhowerTasks')) || [];
        let taskIdCounter = parseInt(localStorage.getItem('taskIdCounter')) || 1;
        
        // ØªÙ‡ÙŠØ¦Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        if (tasks.length === 0) {
            tasks = [
                { id: taskIdCounter++, text: "ØªØ³Ù„ÙŠÙ… ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…Ù„", quadrant: 1, completed: false },
                { id: taskIdCounter++, text: "Ù…Ù‚Ø§Ø¨Ù„Ø© Ø¹Ù…Ù„ Ù‡Ø§Ù…Ø©", quadrant: 1, completed: false },
                { id: taskIdCounter++, text: "Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯", quadrant: 2, completed: false },
                { id: taskIdCounter++, text: "Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ù…Ù‡Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©", quadrant: 2, completed: false },
                { id: taskIdCounter++, text: "Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„Ù‡Ø§ØªÙÙŠØ©", quadrant: 3, completed: false },
                { id: taskIdCounter++, text: "Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ø¦Ù„ ØºÙŠØ± Ù‡Ø§Ù…Ø©", quadrant: 3, completed: false },
                { id: taskIdCounter++, text: "ØªØµÙØ­ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„", quadrant: 4, completed: false },
                { id: taskIdCounter++, text: "Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù‡Ø§ØªÙ", quadrant: 4, completed: false }
            ];
            saveTasks();
        }
        
        function saveTasks() {
            localStorage.setItem('eisenhowerTasks', JSON.stringify(tasks));
            localStorage.setItem('taskIdCounter', taskIdCounter.toString());
        }
        
        function renderTasks() {
            // Ù…Ø³Ø­ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`quadrant${i}`).innerHTML = '';
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ø§Ù…
            tasks.forEach(task => {
                if (!task.completed) {
                    const taskElement = createTaskElement(task);
                    document.getElementById(`quadrant${task.quadrant}`).appendChild(taskElement);
                }
            });
            
            updateStats();
        }
        
        function createTaskElement(task) {
            const taskDiv = document.createElement('div');
            taskDiv.className = 'task-item';
            taskDiv.innerHTML = `
                <div class="task-text">${task.text}</div>
                <div class="task-actions">
                    <button class="task-btn" onclick="completeTask(${task.id})">âœ“</button>
                    <button class="task-btn" onclick="deleteTask(${task.id})">Ã—</button>
                </div>
            `;
            return taskDiv;
        }
        
        function addTask(text, importance, urgency) {
            let quadrant;
            
            if (importance === 'high' && urgency === 'high') {
                quadrant = 1;
            } else if (importance === 'high' && urgency === 'low') {
                quadrant = 2;
            } else if (importance === 'low' && urgency === 'high') {
                quadrant = 3;
            } else {
                quadrant = 4;
            }
            
            const newTask = {
                id: taskIdCounter++,
                text: text,
                quadrant: quadrant,
                completed: false
            };
            
            tasks.push(newTask);
            saveTasks();
            renderTasks();
        }
        
        function addQuickTask(quadrant) {
            const input = document.querySelector(`.task-input[data-quadrant="${quadrant}"]`);
            const text = input.value.trim();
            
            if (text) {
                const newTask = {
                    id: taskIdCounter++,
                    text: text,
                    quadrant: quadrant,
                    completed: false
                };
                
                tasks.push(newTask);
                saveTasks();
                renderTasks();
                input.value = '';
            }
        }
        
        function completeTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = true;
                saveTasks();
                renderTasks();
            }
        }
        
        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            saveTasks();
            renderTasks();
        }
        
        function updateStats() {
            const totalTasks = tasks.length;
            const urgentImportant = tasks.filter(t => t.quadrant === 1 && !t.completed).length;
            const importantNotUrgent = tasks.filter(t => t.quadrant === 2 && !t.completed).length;
            const completedTasks = tasks.filter(t => t.completed).length;
            
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('urgentImportant').textContent = urgentImportant;
            document.getElementById('importantNotUrgent').textContent = importantNotUrgent;
            document.getElementById('completedTasks').textContent = completedTasks;
        }

        // ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·
        function showResetConfirmation() {
            document.getElementById('resetModal').style.display = 'flex';
        }

        function hideResetConfirmation() {
            document.getElementById('resetModal').style.display = 'none';
        }

        function resetProgram() {
            // Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…
            tasks = [];
            taskIdCounter = 1;
            
            // Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
            localStorage.removeItem('eisenhowerTasks');
            localStorage.removeItem('taskIdCounter');
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙŠÙŠØ±
            renderTasks();
            
            // Ø¥Ø®ÙØ§Ø¡ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
            hideResetConfirmation();
            
            // Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„Ù†Ø¬Ø§Ø­
            alert('âœ“ ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©
        document.getElementById('taskForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const taskText = document.getElementById('taskText').value;
            const importance = document.getElementById('importance').value;
            const urgency = document.getElementById('urgency').value;
            
            if (taskText.trim()) {
                addTask(taskText, importance, urgency);
                this.reset();
            }
        });
        
        // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
        document.querySelectorAll('.task-input').forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const quadrant = this.getAttribute('data-quadrant');
                    addQuickTask(parseInt(quadrant));
                }
            });
        });

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideResetConfirmation();
            }
        });
        
        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        renderTasks();
    </script>
</body>
</html>